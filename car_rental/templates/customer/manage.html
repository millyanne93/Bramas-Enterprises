{% extends "base.html" %}

{% block title %}
    Manage Orders
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center">
    <div>Customer Dashboard: {{ user.username }}</div>
    <div>
        <a class="btn btn-teal me-2" href="{% url 'logout' %}">Logout</a>
        <a class="btn btn-teal" href="{% url 'search' %}">Search Cars</a>
    </div>
</div>
<h3 class="text-center mt-4"><b>Your Orders</b></h3>
<div class="container mt-5">
    <table class="table table-striped text-center">
        <thead>
            <tr>
                <th>Car</th>
                <th>Days</th>
                <th>Book</th>
                <th>Capacity</th>
                <th>Description</th>
                <th>Pincode</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for order in od %}
            <tr>
                <td>{{ order.car.car_name }}</td>
                <td>{{ order.days }}</td>
                <td>${{ order.rent }}</td>
                <td>{{ order.car.capacity }} Seats</td>
                <td>{{ order.car.description }}</td>
                <td>{{ order.car_dealer.pincode }}</td>
                <td>
                    <form action="/delete/" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="id" value="{{ order.id }}">
                        <button class="btn btn-danger" type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
